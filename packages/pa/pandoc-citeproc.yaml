changelog-type: text
hash: 8b10357dcd25ec49988ae640a1a89c4b8d0f966f96705a8bbdce896f82eadf10
test-bench-deps:
  bytestring: -any
  base: ! '>=4'
  text: -any
  filepath: -any
  process: -any
  pandoc-types: ! '>=1.12.3'
  pandoc: ! '>=1.13'
  pandoc-citeproc: -any
  temporary: ! '>=1.1'
  aeson: -any
  yaml: ! '>=0.8.8.7'
  directory: -any
synopsis: Supports using pandoc with citeproc
changelog: ! "pandoc-citeproc (0.7.0.2)\n\n  * Bump version bound for xml-conduit.\n\npandoc-citeproc
  (0.7.0.1)\n\n  * In YAML use pandoc markdown syntax for super, subscript (#128).\n
  \   Added test case for rich text formatting.\n  * Change default for first-reference-note-number
  to 0 on reading (#128).\n\npandoc-citeproc (0.7)\n\n  * Improved YAML output:\n
  \   + Fields are now in a deterministic and rational order, id at top.\n    + Blank
  lines between entries for readability.\n    + Use human-friendlier year, month,
  etc. rather than date-part.\n    + The test suite no longer normalizes YAML output
  before comparing,\n      since we now control the order of fields.\n  * Use `locale`
  in metadata in converting bibtex (#98).\n  * Use `locale` in metadata for unicode
  collation, when compiled with\n    the `unicode_collation` flag (#122).\n  * Made
  pandoc-citeproc sensitive to metadata fields\n    `reference-section-title` and
  `suppress-bibliography` (Jesse\n    Rosenthal).  The former specifies a title for
  a new reference section.\n    The second suppresses the bibliography altogether.
  \ Existing\n    documents should behave as before if these fields are not used.\n
  \ * Strip empty span elements from output (#126).\n  * Allow conversion FROM yaml
  to other formats (#124).\n  * Improved CSL JSON output. Use the rich markup syntax
  described at\n    http://docs.citationstyles.org/en/1.0/release-notes.html#rich-text-markup-within-fields\n
  \ * Fixed extraction of language from LANG env variable in Bibtex (#98).\n  * Fixed
  `ghc-prof-options` so we don't get warning with recent cabal.\n    Added French,
  German localizations to Bibtex converter (#98).\n  * Bibtex: Use type field to further
  specify mastersthesis or phdthesis (#98).\n  * Ensure that \"et al\" has a space
  before it, if no delimiter defined (#93).\n  * Allow \"et al\" to be formatted (#91).\n
  \ * Depend on `setenv` package for the `setEnv` function, which is found\n    only
  in base 4.7+.\n  * Fixed problem with droppped final punctuation in some footnotes
  (#82).\n  * `Text.CSL.Util`: Removed unused `readable`. Renamed `toShow` to\n    `uncamelize`.
  Use `ppShow` in `tr'`.\n  * Use `doi.org` instead of `dx.doi.org` (#107).\n  * Fixed
  treatment of `motion_picture` title (#118).\n  * Include preface and suffix of DOI
  in linked text (#107).\n  * Added `--regenerate` flag to `test-pandoc-citeproc`.\n
  \ * Added `hyperlink` field to `Formatting` (API change).\n  * Made hyperlinked
  citations work with numerical  and author-year styles.\n  * Bibtex: improved short
  title logic.\n  * Map biblatex title/maintitle to CSL volume-title/title (Nick Bart).\n
  \ * Fix CSL dependent style support (Tim Lin, #105).\n  * Added support for PMCID
  and PMID fields in bibtex (jgm/pandoc#1923).\n  * Map biblatex `inreference` to
  `EntryEncyclopedia` rather than `NoType`\n    (#88).\n  * Wrap bibliography entries
  in Div with id=ref-citationId\n  * Updated `chicago-author-date.csl`.\n  * Allow
  compilation against pandoc 1.14 (the next release).\n  * Removed obsolete `small_base`
  cabal flag.\n  * Added `debug` cabal flag which turns on tracing.\n\npandoc-citeproc
  (0.6.0.1)\n\n  * Added pandoc-types upper bound.\n  * Removed `auto-all` from profiling
  options.\n  * Fixed CSL dependent style support (#105, Tim Lin).\n  * Updates to
  build with GHC 7.10.1 (Mark Wright).\n\npandoc-citeproc (0.6)\n\n  * The CSL parser
  has been replaced with a new, xml-conduit based module,\n    which does not rely
  on C libraries and should be easier to repair\n    and extend.  The module has been
  checked against the old module with all\n    CSL files in the citeproc repository.
  \ The only differences\n    are with attribute values beginning or ending with a
  nonbreaking\n    space (e.g. with French guillemets), and the new parser's behavior\n
  \   (preserving the spaces) is clearly correct.  Parsing was measured as\n    about
  twice as fast in a benchmark.\n  * The `hexpat` cabal flag has been removed.\n  *
  The old `Text.CSL.Pickle` and `Text.CSL.Pickle.*` modules have been\n    removed.\n
  \ * Plural locator labels (e.g. 'pp.') are now used for page ranges\n    containing
  en-dashes (#84).\n  * `Elements` has been removed from `Element`.  It was entirely
  unnecessary,\n    used only once (and dispensibly) in `Text.CSL.Eval`.\n    This
  change results in cleaner code.\n  * Improved man page generation.\n  * Updated
  `chicago-author-date.csl` default style.\n\npandoc-citeproc (0.5)\n\n  * Revised
  locator parsing:\n    + parseLocator now looks for the \"short\" forms of terms
  in\n      the style's locale(s).  So, in English you'd use \"p.\" or\n      \"ch.\";
  in German, \"S.\" or \"Kap.\"\n    + Note that the locator label must match what
  is in the locale\n      file, including the period.  Before this change, you could
  omit\n      the period: \"p 12\" or \"p. 12\" would both give you a \"page.\"\n
  \     Also, previously, the locators were case-insensitive; now they must\n      be
  in the same case as in the locale.  (English \"p.\", German \"S.\".)\n    + \"no.\"
  no longer gets parsed as a \"note\": closes #74.\n    + Text.CSL.Reference no longer
  exports parseLocator.\n      parseLocator is now used only locally, in Text.CSL.Pandoc.\n
  \ * Data.getLocale:  Try 2-letter locale lookup if longer locale not found.\n    This
  should fix an error that occured with less common locales\n    (jgm/pandoc#1548).\n
  \ * Added parseNames field to Agent.  Set parse-names=true\n    when writing CSL
  JSON and collapsing suffix or particles into\n    first or last names.\n  * Properly
  handle agents with 'parse-names' set to 'true' (#77).\n    Note that parse-names
  defaults to true if not set, as in Zotero.\n  * Reference:  added explicit exports.\n
  \ * Styles:  Added explicit export list.\n  * Eval: Fixed isNumericString to recognize
  en dash (#74).\n  * Allow bibtex double quotes to be escaped inside {} (jgm/pandoc#1568).\n
  \ * Titlecase transform improvements (#76).\n  * Added two csl files missing from
  tests/.\n  * Performance improvements:  Avoid unnecessary Output groupings.\n    Eliminated
  some unnecessary generic traversals.  (#71)\n  * Makefile:  Use cpphs. Text.CSL.Data
  seems to break on OSX 10.9 without it.\n  * Added prof target to Makefile\n  * Test
  suite: don't exit with success if there were errors!\n\npandoc-citeproc (0.4.0.1)\n\n
  \ * Interpret date literals with underscores (e.g. \"2004_2006\") as ranges.\n    This
  covers a common workaround for a deficiency in Zotero (#65).\n  * Correctly handle
  \"literal\" in CSL date (#65).\n  * Fixed erroneous capitalization of the first
  ibid. in a citation,\n    even in the middle of a sentence (#68).  Removed \"ibid-c\",\n
  \   \"ibid-locator-c\" classifications.\n  * Pandoc:  Capitalize first word of citation
  note, unless span=nocase.\n    Previously we only capitalized citations.  This captures
  ibid\n    and the like.\n  * Text.CSL.Util.toCapital:  respect `<span class=\"nocase\">`.\n
  \ * Turn small caps into SmallCaps element in reading CSL JSON (#67).\n    Either
  the <span style=\"font-variant:small-caps\"> or the <sc>\n    variant may be used.\n
  \ * Added \"ca\", \"c\", \"et\" to list of short words in titlecase transforms\n
  \   (#66).\n  * Fixed some errors in the no-author test case.\n  * test-pandoc-citeproc:
  \ Avoid running tests twice!\n  * Check for en dash in checking for page ranges
  (#70).\n  * Removed unused texmath build-depend.\n\npandoc-citeproc (0.4)\n\n  *
  Fixed #58 - previously not all substitute alternatives were tried.\n  * Made first
  parameter of OName an Agent, not a String (API change).\n    Also moved Agent from
  Reference to Style.\n  * test-pandoc-citeproc: run tests on all matching files in
  the directory.\n    This removes the need to recompile when new tests are added.\n
  \ * Style: Fixed appendWithPunct (mappend for Formatted).  One definition\n    was
  wrong, causing commas to be lost in certain places (#57).\n  * Support \\nocite{*}.
  \ If the `nocite` metadata filed contains a citation\n    with identifier `*`, all
  entries in the bibliography are included\n    in the references (#64).\n  * Bump
  upper bound for aeson.\n  * Removed span nodecor around 'ser.' (#60).\n  * Print
  series as \"3rd ser.\" (using locale's ordinal) (#60).\n  * Added scaffolding for
  'ordinalize' and infrastructure for\n    accessing locale information to Bibtex.\n
  \ * Export new parseLocale from Text.CSL.Parser.\n  * Move punctuation before fn
  in in-text citation before punctuation (#59).\n  * Updated locales and chicago-author-date.csl.\n
  \ * Use collection-title for series, even for articles (#60).\n  * Fixed locator
  parsing so capital roman numerals are legal numbers (#61).\n  * Map bookinbook ->
  chapter (#62).\n  * Better error message from parseString.\n  * Remove space before
  superscript citation (pandoc #1327).\n  * Fixed spurious \"et al\" problem (#27).\n
  \ * Match biblatex's method for separating von from last name, for biblatex.\n    For
  bibtex, we match the documented bibtex algorithm as before (#50).\n    Test case:
  \ Drummond de Andrade, Carlos.\n    bibtex makes \"Drummond de\" a dropping particle.\n
  \   biblatex takes \"Drummond de Andrade\" to be the last name.\n  * Leave off bibliography
  if `suppress-bibliography` has a true value\n    in the document metadata (#40,
  with thanks to Jesse Rosenthal).\n  * Try empty (null) 'csl' as if no 'csl' was
  specified.\n    (The default chicago-author-date.csl is then used.)\n  * Fixed #51:
  \ empty braces with date range.\n  * Set pageFirst automatically from page range
  (#31).\n  * Bibtex input: set page-first automatically.\n  * Fixed capitalization
  of first word in sentence (#25).\n    E.g. \"foo bar baz: bazbaz foo\" should turn
  into\n    \"Foo Bar Baz: Bazbaz Foo\" in titlecase, but was turning into\n    \"foo
  Bar Baz: bazbaz Foo.\"\n  * pandoc-citeproc:  Allow conversion of mods bibliographies
  (#28).\n  * readCSLFile now supports dependent styles (#30).\n  * Removed network
  flag.  We now use pandoc's fetchItem.\n  * Changed type of findFile, so it returns
  a Maybe.\n  * Documented fact that you can specify a URL under 'csl:'.\n  * Added
  locale parameter to readCSLFile (API change).\n    readCSLFile also now looks in
  ~/.csl for the file, if it isn't\n    found locally.\n  * Moved findFile to Util.\n
  \ * Bibtex/biblatex:  map \"unpublished\" to \"speech\" if\n    the record contains
  \"eventtitle\", \"eventdate\", or \"venue\".\n    Otherwise map it to \"manuscript\"
  as before (#44).\n  * Look for chicago-author-date.csl in ~/.csl if no csl specified.\n
  \   If not found there, use the chicago-author-date.csl that comes with\n    the
  distribution (#48).\n  * Improved case transform behavior with punctuation.\n    Previously
  capitalization might change after a word-internal period\n    or apostrophe.  Now
  internal punctuation only signals a word\n    boundary if it is a dash or single
  quote character.\n\npandoc-citeproc (0.3.1)\n\n  * Marked final heading (if present)
  as \"unnumbered\" (pandoc #1277).\n  * Treat empty 'references' (empty string) as
  empty list.\n  * Fixed titlecase transformation of words containing '.\n  * Fixed
  punctuation in notes.\n  * Improved test suite.\n  * FromJSON for Formatted: handle
  block lists as well as inline.\n  * Require yaml >= 0.8.8.2.\n  * Fixed spacing
  problem with citations in notes in footnote styles\n    (pandoc #1036).\n  * Updated
  chicago-author-date.csl and locales (#34).\n  * Move punctuation inside quotes,
  depending on style.  This is activated by\n    the `punctuation-in-quote` locale
  option, which has a default\n    per locale but can be overridden in the style.
  \ This gives more flexibility.\n    (Thanks to Jesse Rosenthal.)\n  * Moved `isPunctuationInQuote`
  to `Text.CSL.Style` and rewrote.\n    Previously it was in `Text.CSL.Output.Pandoc`.\n
  \   It doesn't need to use generics and no longer does.\n  * Fixed recognition of
  \"byzantine\" names.  Names with curly apostrophes were\n    being counted as non-byzantine,
  and printed given-first with no space\n    (#39).\n  * Fixed representation of reference
  types to conform to CSL (#24):\n    `motion_picture`, `legal_case`, `musical_score`,
  `personal_communication`.\n\npandoc-citeproc (0.3.0.1)\n\n  * Require ghc-prim if
  ghc < 7.6 (needed for generics).\n\npandoc-citeproc (0.3)\n\n  * Removed biblio2yaml.
  \ Instead, use pandoc-citeproc with the\n    --bib2yaml or --bib2json option.  (#20)\n
  \ * pandoc-citeproc --bib2json will convert bibtex/biblatex to\n    CSL compatible
  JSON bibliographies.\n  * Updated locale files for correct textual date ranges\n
  \   in e.g. the da-DK locale.  Use form=\"ordinal\" instead of a period\n    as
  suffix.  (#16, #18)\n  * Support new langid and langidopts biblatex fields. (#11)\n
  \ * Made test-pandoc-citeproc work in all locales. (#19)\n    It now tests the executable
  rather than the library function.\n  * Fixed disambiguation with multivolume works
  (#14).\n  * Improved titlecase/unTitlecase to be sensitive to colons,\n    question
  marks, and exclamation marks, after which the\n    next character sohuld be capitalized
  even in sentence case\n    (pandoc #1102).\n  * The \"locale\" filed in metadata
  will now override a style's\n    default locale.  This can also be set by the command
  line:\n    --metadata locale=fr-FR (#10).\n  * Use CSL-compatible date-parts for
  dates in YAML/JSON\n    bibliographies.\n  * Made FromJSON for Reference more forgiving.
  \ Suitable strings\n    are coerced into integer values.  (pandoc #1094)\n  * Fixed
  extra punctuation at end of footnote (#13).\n  * Reference:  Always use array in
  JSON for dates, agents.\n  * Bibtex parser:  Don't fail on entry with no title.\n
  \ * Bibliography output: 'given' is now a string, not an array.\n    The string
  will be split on spaces into a list of given names.\n    Note that an array can
  also be used.  But we write\n    a plain string, to match the  citeproc json schema.\n
  \ * Fixed spacing bug in date ranges (#7).\n  * Names:  Fixed formatLabel so it
  works for editortranslator.\n    This fixes a bug for cases where editor = translator
  (#9).\n  * Text.CSL.Eval.Date:  Fixed bugs with date ranges.\n    Ranges within
  the same year were raising an error \"Prelude.init: empty\n    list\" (#7).\n  *
  Util: Export tr' and init'.\n  * Text.CSL.Proc.Disamb:  Correct definition of allTheSame.\n
  \ * Improved disambiguation.  Now we correctly handle the case with no\n    author
  but title.\n  * Consider names too when determining date disambiguations.\n    Previously
  if you had two distinct names needing disambiguation for\n    the same date, the
  letters would not start over with 'a' for the second\n    name.\n  * Added Generic
  instances for the types in Style and Reference.\n"
basic-deps:
  bytestring: -any
  setenv: ! '>=0.1 && <0.2'
  split: -any
  xml-conduit: ! '>=1.2 && <1.4'
  base: ! '>=4'
  time: -any
  aeson-pretty: -any
  text: -any
  hs-bibutils: ! '>=0.3'
  syb: -any
  filepath: -any
  process: -any
  parsec: -any
  data-default: -any
  pandoc-types: ! '>=1.12.3'
  containers: ! '>=0.4 && <0.6'
  pandoc: ! '>=1.13'
  pandoc-citeproc: -any
  ghc-prim: -any
  text-icu: -any
  old-locale: -any
  mtl: -any
  pretty-show: -any
  attoparsec: -any
  temporary: ! '>=1.1'
  tagsoup: -any
  aeson: ! '>=0.7 && <0.9'
  yaml: ! '>=0.8.8.7'
  vector: ==0.10.*
  directory: -any
all-versions:
- '0.1'
- '0.1.1'
- '0.1.1.1'
- '0.1.1.2'
- '0.1.2'
- '0.1.2.1'
- '0.2'
- '0.3'
- '0.3.0.1'
- '0.3.1'
- '0.4'
- '0.4.0.1'
- '0.5'
- '0.6'
- '0.6.0.1'
- '0.7'
- '0.7.0.1'
- '0.7.0.2'
latest: '0.7.0.2'
description-type: markdown
description: ! 'pandoc-citeproc

  ===============


  This package provides a library and executable to facilitate the use of

  citeproc with pandoc 1.12 and greater.  (Earlier versions of pandoc have

  integrated citeproc support.)


  `pandoc-citeproc`

  -----------------


  The `pandoc-citeproc` executable can be used as a filter with pandoc to

  resolve and format citations using a bibliography file and a CSL

  stylesheet.  It can also be used (with `--bib2yaml` or `--bib2json`

  options) to convert a bibliography to a YAML format that can be put

  directly into a pandoc markdown document or to CSL JSON.  Bibliographies

  can be in any of several formats, but bibtex and biblatex are the best

  supported.


  For usage and further details, see the [pandoc-citeproc man

  page](https://github.com/jgm/pandoc-citeproc/blob/master/man/pandoc-citeproc.1.md).


  The current version of the package includes code from citeproc-hs,

  which has not been updated for some time.  When citeproc-hs is brought

  up to date, this code can be removed and this package will depend

  on citeproc-hs.


  `Text.CSL.Pandoc`

  -----------------


  Those who use pandoc as a library (e.g. in a web application) will

  need to use this module to process citations.


  The module exports two functions, `processCites`, which is pure and

  accepts a style and a list of references as arguments, and

  `processCites''`, which lives in the IO monad and derives the style

  and references from the document''s metadata.


'
