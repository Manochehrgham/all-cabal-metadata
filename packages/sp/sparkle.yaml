homepage: ''
changelog-type: ''
hash: 6cee669a8e79fde86256c9d018f9d20490cbad97e80f051853a10d00f81bf642
test-bench-deps: {}
maintainer: alp.mestanogullari@tweag.io
synopsis: Distributed Apache Spark applications in Haskell
changelog: ''
basic-deps:
  zip-archive: ! '>=0.2'
  bytestring: ! '>=0.10'
  base: ! '>=4.8 && <5'
  text: ! '>=1.2'
  filepath: ! '>=1.4'
  process: ! '>=1.2'
  singletons: ! '>=2.0'
  distributed-closure: ! '>=0.3'
  binary: ! '>=0.7'
  regex-tdfa: ! '>=1.2'
  sparkle: -any
  inline-java: ! '>=0.1'
  vector: ! '>=0.11'
all-versions:
- '0.1'
- '0.1.0.1'
- '0.2'
author: Tweag I/O
latest: '0.2'
description-type: markdown
description: ! "# Sparkle: Apache Spark applications in Haskell\n\n[![Circle CI](https://circleci.com/gh/tweag/sparkle.svg?style=svg)](https://circleci.com/gh/tweag/sparkle)\n\n*Sparkle
  [spär′kəl]:* a library for writing resilient analytics\napplications in Haskell
  that scale to thousands of nodes, using\n[Spark][spark] and the rest of the Apache
  ecosystem under the hood.\n\n**This is an early tech preview, not production ready.**\n\n[spark]:
  http://spark.apache.org/\n\n## Getting started\n\nThe tl;dr using the `hello` app
  as an example on your local machine:\n\n```\n$ stack build hello\n$ stack exec sparkle
  package sparkle-example-hello\n$ spark-submit --master 'local[1]' sparkle-example-hello.jar\n```\n\n**Requirements:**\n*
  the [Stack][stack] build tool;\n* either, the [Nix][nix] package manager,\n* or,
  OpenJDK, Gradle and Spark >= 1.6 installed from your distro.\n\nTo run a Spark application
  the process is as follows:\n\n1. **create** an application in the `apps/` folder,
  in-repo or as\n   a submodule;\n1. **add** your app to `stack.yaml`;\n1. **build**
  the app;\n1. **package** your app into a deployable JAR container;\n1. **submit**
  it to a local or cluster deployment of Spark.\n\n**If you run into issues, read
  the Troubleshooting section below\n  first.**\n\nTo build:\n\n```\n$ stack [--nix]
  build\n```\n\nYou can optionally pass `--nix` to all Stack commands to ask Nix to\nmake
  Spark and Gradle available in a local sandbox for good build\nresults reproducibility.
  Otherwise you'll need these installed through\nyour OS distribution's package manager
  for the next steps (and you'll\nneed to tell Stack how to find the JVM header files
  and shared\nlibraries).\n\nTo package your app (omit the square bracket part entirely
  if you're\nnot using `--nix`):\n\n```\n$ [stack --nix exec --] sparkle package <app-executable-name>\n```\n\nFinally,
  to run your application, for example locally:\n\n```\n$ [stack --nix exec --] spark-submit
  --master 'local[1]' <app-executable-name>.jar\n```\n\nSee [here][spark-submit] for
  other options, including lauching\na [whole cluster from scratch on EC2][spark-ec2].\n\n[stack]:
  https://github.com/commercialhaskell/stack\n[spark-submit]: http://spark.apache.org/docs/latest/submitting-applications.html\n[spark-ec2]:
  http://spark.apache.org/docs/latest/ec2-scripts.html\n[nix]: http://nixos.org/nix\n\n##
  Troubleshooting\n\n### `jvm` library or header files not found\n\nYou'll need to
  tell Stack where to find your local JVM installation.\nSomething like the following
  in your `~/.stack/config.yaml` should do\nthe trick, but check that the paths match
  up what's on your system:\n\n```\nextra-include-dirs: [/usr/lib/jvm/java-7-openjdk-amd64/include]\nextra-lib-dirs:
  [/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/amd64/server]\n```\n\nOr use `--nix`:
  since it won't use your globally installed JDK, it\nwill have no trouble finding
  its own locally installed one.\n\n### Can't build sparkle on OS X\n\nOS X is not
  a supported platform for now. There are several issues to\nmake sparkle work on
  OS X, tracked\n[in this ticket](https://github.com/tweag/sparkle/issues/12).\n\n###
  Gradle <= 2.12 incompatible with JDK 9\n\nIf you're using JDK 9, note that you'll
  need to either downgrade to\nJDK 8 or update your Gradle version, since Gradle versions
  up to and\nincluding 2.12 are not compatible with JDK 9.\n\n## License\n\nCopyright
  (c) 2015-2016 EURL Tweag.\n\nAll rights reserved.\n\nSparkle is free software, and
  may be redistributed under the terms\nspecified in the [LICENSE](LICENSE) file.\n\n##
  About\n\n![Tweag I/O](http://i.imgur.com/0HK8X4y.png)\n\nSparkle is maintained by
  [Tweag I/O](http://tweag.io/).\n\nHave questions? Need help? Tweet at\n[@tweagio](http://twitter.com/tweagio).\n"
license-name: BSD3
