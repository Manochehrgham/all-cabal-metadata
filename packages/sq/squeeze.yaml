homepage: http://functionalley.eu
changelog-type: text
hash: 80a94c1b923ae10f2e142c90339ed5af0e4eb2fe739adab480962201a5762a89
test-bench-deps: {}
maintainer: squeeze <at> functionalley <dot> eu
synopsis: A file-packing application.
changelog: ! "2010-11-18 Dr. Alistair Ward <squeeze at functionalley dot eu>\n\n1.0.0.0\n\t*
  First version of the package.\n1.0.0.1\n\t* Created \"src/Squeeze/\" sub-directory
  & then modified module-names accordingly.\n\t* Pacified 'hlint'.\n\t* Added a makefile.\n1.0.0.2\n\t*
  Tested with ghc-7.0.1\n\t* Added RPM-spec file.\n1.0.1.0\n\t* Improved the basic
  algorithm, by permitting the file-list to be bisected; each file-combination resulting
  from the LHS, is then concatenated with each of those resulting from the recursively
  bisected RHS.\n\t* Used \"Control.Parallel.Strategies\" to parallelize the concatenation
  of each combination from the LH-list, with each of those from the RH-list.\n\t*
  Added default values of command-line flags, to usage-message.\n\t* Used new \"ToolShed.Package\"
  module.\n\t(1.0.1.1)\n\t* Replaced 'Data.List.subsequences' with a tailored version
  which terminates combinations when they've grown too large, providing a better and
  more predictable performance-gain than recursive list-bisection.\n\t* Reduced recursive
  list-bisection to a single bisection, for the sole purpose of facilitating parallelisation.\n\t*
  Added module \"Squeeze.QC\" to define \"Test.QuickCheck\" tests and command-line
  option \"--verbose\", to govern level of output.\n\t* Partitioned into new modules;
  \"Squeeze.File\", \"Squeeze.FileSizeBounds\" and \"Squeeze.FileCombination\".\n1.0.1.2\n\t*
  Fixed typo in CPP-statement in \"Squeeze.QC\".\n\t* Fixed negated reference to unparenthesised
  CPP-macro 'MIN_VERSION'.\n\t* Protected reference in \"Main\", to 'Test.QuickCheck.verboseCheck',
  using CPP-statement.\n1.0.1.3\n\t* Amended \"squeeze.spec\" to define RPM-package,
  to install under \"/usr\", rather than \"/usr/local\".\n\t* Renamed package from
  'Squeeze' to 'squeeze', for compatibility with Debian's \".deb\"-format.\n\t* Added
  directory-structure required to build \".deb\" package.\n1.0.1.4\n\t* Corrected
  command-line processing of the special file \"-\", which read standard-input as
  requested, but disregarded any other command-line options.\n\t* Refined man-page
  to be an 'extra-source-file' in \"squeeze.cabal\" and \"squeeze.spec\" files.\n\t*
  Ported to compile against alternative integral definitions of 'Squeeze.File.FileSize'.\n\t*
  Added manually controlled \"llvm\" flag to \"squeeze.cabal\".\n\t* Replaced references
  to the module \"ToolShed.Package\" with \"Distribution.Package\".\n\t* Reacted to
  the creation of module \"ToolShed.Defaultable\".\n\t* Uploaded to <http://hackage.haskell.org/packages/hackage.html>.\n1.0.2.0\n\t*
  Reimplemented 'Squeeze.File.aggregateSize' using 'foldr' rather than 'foldl'.\n\t*
  Removed use of \"Control.Parallel.Strategies\" from \"Squeeze.Squeeze\", which ruined
  performance on one core and had no obvious benefit on two.\n\t* Changed the definition
  of 'Squeeze.FileCombinations.FileCombinations' from a 'Pair' to a record-style data-type
  with selective strictness-annotation.\n\t* Renamed 'Squeeze.FileCombination.concatenate'
  to '(Squeeze.FileCombination.<+>)' and 'Squeeze.FileCombination.prepend' to '(Squeeze.FileCombination.+>)'.\n\t*
  Used new module \"ToolShed.TimeAction\", to permit measurement of the CPU-time required
  to find the best fit.\n\t* Added the number, mean file-size and standard-deviation,
  to the output, when flag '--verbose' is specified; and as a side-effect, created
  a dependency on the package 'factory'.\n\t* Replaced module \"Squeeze.FileSizeBounds\"
  with \"Factory.Data.Interval\", requiring use of 'toolshed-0.12.0.0'.\n\t* Made
  the data-type 'CommandOptions.CommandOptions' polymorphic in terms of the /ratio/-type
  fields.\n\t* Inserted new layers \"Data\" and \"Test\" into the module-hierarchy,
  and relocated existing modules accordingly.\n\t* Added module \"Squeeze.Test.Performance\"
  to test with randomly generated virtual files.\n1.0.2.1\n\t* Added check for zero
  file-names when reading from stdin.\n\t* Corrected the syntax required when specifying
  ratios, in the man-page.\n1.0.2.2\n\t* Renamed 'Squeeze.Data.File.order' to 'Squeeze.Data.File.orderBySize'.\n\t*
  Used 'Paths_squeeze.version' in 'Main', rather than hard-coding it.\n\t* Added 'Squeeze.Data.CommandOptions.getErrors'
  to permit better error-diagnosis.\n\t* Reacted to new module-hierarchy and addition
  of method 'ToolShed.SelfValidate.getErrors', in toolshed-0.13.0.0.\n\t* Replaced
  use of 'Control.Exception.bracket' with 'System.IO.withFile', in 'Squeeze.Data.File.findSize'.\n\t*
  Replaced \"System\" with \"System.Environment\" and \"System.Exit\".\n\t* Removed
  dependency on \"haskell98\".\n1.0.2.3\n\t* Added class 'Show' to context for 'Squeeze.Test.Performance.run',
  for migration to 'ghc-7.4.1'.\n1.0.2.4\n\t* Added details to any failure to parse
  the command-line arguments.\n\t* Defined package's name using program's name & enhanced
  usage-message, in \"Main.hs\".\n\t* Re-implemented logging using \"Control.Monad.Writer.Writer\"
  & renamed 'Squeeze.Squeeze.findBestFitM' to 'Squeeze.Squeeze.findBestFitWriter'.\n\t*
  Implemented 'verbose' functionality in \"Squeeze.Test.Performance\".\n\t* Added
  command-line flag 'includeEmpty', to allow one to include empty files & directories
  in any solution.\n1.0.3.0\n\t* Changed \"Main\" to replace calls to 'error' from
  inside the IO-monad, with 'Control.Monad.fail'.\n\t* Changed \"Main\"; by adding
  a command-line option to define the seed for the random-generator used for performance-testing;
  to permit 'includeEmpty' to take an optional Boolean argument, rather than a mandatory
  one; to read 'Squeeze.Data.CommandOptions.getMinimumUsageRatio' as a 'Double', rather
  than a 'Rational'.\n\t* Renamed the accessors in \"Squeeze.Data.CommandOptions\",
  & removed 'bisectionRatio' & associated code.\n\t* Added \"Squeeze.Control.Concurrent.DivideAndConquer\",
  called from \"Main\" to utilise multiple CPU-cores where available.\n\t* Trapped
  command-line arguments to which garbage has been appended.\n\t* Changed \"Data.CommandOptions\"
  to use 'Distribution.Verbosity.Verbosity'.\n1.0.4.0\n\t* Corrected the Copyright-statement
  in 'Main.main.optDescrList.printVersion'.\n\t* Renamed \"Squeeze.Test.QC\" to \"Squeeze.Test.QuickChecks\";
  migrating its tests to a new module \"Squeeze.Test.Squeeze\", & added new tests
  'prop_monotonicFileSize' & 'prop_uniqueFileNames', requiring package 'toolshed-0.14.0.0';
  added module \"Squeeze.Test.Data.FileCombinations\".\n\t* Amended the log-messages
  printed by \"Main\".\n\t* Removed the command-line option 'graphPerformance', which
  printed only CPU-seconds rather than elapsed time, & therefore didn't correctly
  represent the multi-threaded implementation.\n\t* Removed the printing of CPU-seconds
  when not testing performance; this is better left to '/usr/bin/time'.\n\t* Compensated
  for the potential rejection of some virtual files after generation of a test-population.\n\t*
  Used new class 'Factory.Math.Probability.Distribution' & bumped required version
  to 'factory-0.2.1.0'.\n\t* Replaced the command-line option '--testPerformance',
  with '--testPerformanceContinuous' & '--testPerformanceDiscrete'.\n1.0.4.1\n\t*
  Removed 'ToolShed.SelfValidate.isValid commandOptions' from 'Main.runQuickChecks';
  since the command-options aren't used.\n\t* Added 'changelog.Debian' to 'squeeze.cabal'.\n\t*
  Relocated 'Main.distribute' to 'Squeeze.Squeeze.distributeAndFindBestFit' & added
  check on whether maximum size has been exceeded.\n\t* Added 'Squeeze.Squeeze.partitionEmptyFilesAndDistributeAndFindBestFit',
  to efficiently account for empty files, & relocated calculation of file-statistics
  to this function.\n\t* Amended 'Test.Performance.run', replacing call to 'Squeeze.Squeeze.findBestFit'
  with 'Squeeze.Squeeze.distributeAndFindBestFit', to permit multi-threaded performance-tests.\n\t*
  Added function 'Squeeze.Data.CommandOptions.mkCommandOptions' & modules \"Squeeze.Test.Data.Verbosity\"
  & \"Squeeze.Test.Data.CommandOptions\" for future QuickChecks.\n\t* Extracted 'Squeeze.Data.File.expandDirectory'
  from 'Squeeze.Data.File.findSize' to clarify the logic. Symlinks are also now permissible
  input files.\n\t* Added 'Squeeze.Data.File.findDuplicates', & trapped duplicate
  files implicit within those directories specified.\n1.0.4.2\n\t* Improved the syntax
  of 'verbosity' in the usage-message.\n\t* Tested with 'haskell-platform-2013.2.0.0'.\n\t*
  Added a function 'Data.CommandOptions.subtractFile' to adjust 'Data.CommandOptions.CommandOptions'
  after removing a file from the problem; previously done incorrectly, causing an
  error when running with '+RTS -N2'.\n1.0.4.3\n\t* Changed the value of '0/0' to
  '0' rather than '1' in 'Data.CommandOptions.subtractFile'.\n1.0.4.4\n\t* Either
  replaced instances of '(<$>)' with 'fmap' to avoid ambiguity between \"Control.Applicative\"
  & \"Prelude\" which (from 'base-4.8') also exports this symbol, or hid the symbol
  when importing the \"Prelude\"..\n\t* In module \"Main\", redirected version-message
  to stderr.\n1.0.4.5\n\t* Added the compiler to the output returned for the command-line
  option \"version\".\n\t* Specified compiler-option 'context-stack' in 'Main.hs',
  to account for call to printf.\n"
basic-deps:
  factory: ! '>=0.2.1.0'
  toolshed: ! '>=0.14'
  unix: -any
  Cabal: ! '>=1.6 && <2'
  base: ==4.*
  filepath: -any
  mtl: -any
  random: -any
  QuickCheck: ! '>=2.4'
  directory: -any
all-versions:
- '1.0.1.4'
- '1.0.2.0'
- '1.0.2.2'
- '1.0.2.3'
- '1.0.2.4'
- '1.0.3.0'
- '1.0.4.0'
- '1.0.4.1'
- '1.0.4.2'
- '1.0.4.4'
- '1.0.4.5'
author: Dr. Alistair Ward
latest: '1.0.4.5'
description-type: haddock
description: Returns progressively better subsets of the specified files, selected
  to fit into a limited space, without wasting more than the specific ratio.
license-name: GPL
